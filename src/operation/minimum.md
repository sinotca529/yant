# 基本操作

ファイル編集に最低限必要な操作を覚えましょう。

## モード

Neovim では、様々なモードを切り替えながらファイルを編集します。
色々なモードがありますが、まずは次の4つを知っておきましょう。

- Normal モード : カーソル移動などを行う
- Insert モード : 文字の入力・削除などを行う
- Visual モード : 範囲選択および、選択したテキストの削除・コピーなどを行う
- Cmdline モード : 保存・終了などを行う

### Normal モード

カーソル移動などを行うモードです。
Neovim を起動した直後はこのモードになっています。

例えば、次のようなキーバインドがあります :

- `h` : カーソルを左に移動
- `j` : カーソルを下に移動
- `k` : カーソルを上に移動
- `l` : カーソルを右に移動
- `x` : カーソル位置にある文字を切り取り
- `p` : 切り取った文字の貼り付け

### Insert モード

文字の入力や削除などを行うモードです。
Normal モードで `i` を押すと Insert モードに切り替わります (他にも色々な遷移方法があります)。
`Esc` (or `Ctrl + [`) を押すことで Normal モードに戻ります。

### Visual モード

範囲選択および、選択したテキストの削除・コピーなどを行うモードです。
Normal モードで `v` を押すと Visual モードに切り替わります。
`Esc` (or `Ctrl + [`) を押すと Normal モードに戻ります。

操作は次のステップで行います :

1. Normal モードで、選択を開始したい場所にカーソルを動かす。
2. `v` を押し、 Visual モードに遷移する。
3. `h`, `j`, `k`, `l` でカーソルを操作し、範囲を選択する。
4. 選択範囲に適用したい操作に対応するキーを押す。

選択範囲に適用できる操作には、以下のようなものがあります :

- `y` : ヤンク (コピーを意味する vim の用語です)
- `d` : 削除
- `x` : 切り取り

### Cmdline モード

保存、終了、検索、置換など様々なコマンドを実行するモードです。
Normal モードで `:` を押すと Cmdline モードに切り替わります。
実行したいコマンドを入力した後、リターンキーを押すとコマンドが実行されます。
`BS` でコマンドを消しきるか、 `Esc` (or `Ctrl + [`) を押すことで Normal モードに戻ります。

例えば次のようなコマンドがあります :

- `:w` : 保存
- `:q` : 終了
- `:wq` : 保存して終了
- `:q!` : 保存せず終了
- `:pwd` : カレントディレクトリの表示
- `:e (ファイルへのパス)` : ファイルを開く

## 困ったときは

意図していない操作などでよくわからなくなってしまった際は、以下を試しましょう。
一部の例外的な状況を除けば、変更を保存せずに Neovim を終了できるはずです。

1. `Esc` (or `Ctrl + [`) を連打する
2. 運良く Normal モードに戻れたら、 `:qa!` で変更を保存せずに終了する (リターンキーを忘れずに)
